<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Dalilak | Ø¯Ù„ÙŠÙ„Ùƒ</title>

  <!-- Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont;
      background: linear-gradient(180deg, #0f172a, #020617);
      color: #fff;
    }

    header {
      padding: 16px;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
    }

    .container {
      padding: 16px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 14px;
    }

    .card {
      background: #1e293b;
      border-radius: 18px;
      padding: 16px;
      text-align: center;
      cursor: pointer;
      transition: transform 0.2s;
    }

    .card:hover {
      transform: scale(1.02);
    }

    .card span {
      font-size: 34px;
      display: block;
      margin-bottom: 8px;
    }

    .store {
      background: #1e293b;
      border-radius: 18px;
      padding: 14px;
      margin-bottom: 14px;
    }

    .store img {
      width: 100%;
      height: 120px;
      object-fit: contain;
      background: #fff;
      border-radius: 12px;
      margin-bottom: 10px;
    }

    .store h3 {
      margin: 6px 0;
      font-size: 16px;
    }

    .store p {
      font-size: 13px;
      opacity: 0.85;
      margin-bottom: 10px;
    }

    .visit {
      display: block;
      text-align: center;
      background: #22c55e;
      color: #000;
      padding: 10px;
      border-radius: 12px;
      font-weight: bold;
      text-decoration: none;
    }

    .nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      gap: 10px;
      padding: 10px;
      background: #020617;
    }

    .nav button {
      flex: 1;
      border: none;
      border-radius: 14px;
      padding: 12px;
      font-size: 15px;
      font-weight: bold;
      cursor: pointer;
    }

    .home {
      background: #22c55e;
    }

    .back {
      background: #334155;
      color: #fff;
    }
  </style>
</head>

<body>
  <header id="title">Ø§Ù„ÙØ¦Ø§Øª</header>

  <div class="container" id="content"></div>

  <div class="nav">
    <button class="home" onclick="showCategories()">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    <button class="back" onclick="goBack()">â¬… Ø±Ø¬ÙˆØ¹</button>
  </div>

  <script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    const content = document.getElementById("content");
    const title = document.getElementById("title");
    let history = [];

    const DEFAULT_LOGO =
      "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='200' height='120'><rect width='100%' height='100%' rx='16' fill='%23e5e7eb'/><text x='50%' y='60%' font-size='40' text-anchor='middle'>ğŸ¬</text></svg>";

    const categories = [
      { id: "shop", name: "ØªØ³ÙˆÙ‚", icon: "ğŸ›ï¸" },
      { id: "tools", name: "Ø£Ø¯ÙˆØ§Øª", icon: "ğŸ› ï¸" },
      { id: "edu", name: "ØªØ¹Ù„ÙŠÙ…", icon: "ğŸ“" },
      { id: "fun", name: "ØªØ±ÙÙŠÙ‡", icon: "ğŸ®" }
    ];

    const stores = {
      shop: [
        {
          name: "Amazon",
          domain: "amazon.com",
          desc: "Ø£ÙƒØ¨Ø± Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø¹Ø§Ù„Ù…ÙŠ"
        },
        {
          name: "AliExpress",
          domain: "aliexpress.com",
          desc: "Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø®ÙØ¶Ø© ÙˆØ´Ø­Ù† Ø¹Ø§Ù„Ù…ÙŠ"
        }
      ],
      tools: [
        {
          name: "Canva",
          domain: "canva.com",
          desc: "ØªØµÙ…ÙŠÙ… Ø§Ø­ØªØ±Ø§ÙÙŠ Ø¨Ø³Ù‡ÙˆÙ„Ø©"
        },
        {
          name: "Notion",
          domain: "notion.so",
          desc: "ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª"
        }
      ],
      edu: [
        {
          name: "Coursera",
          domain: "coursera.org",
          desc: "ÙƒÙˆØ±Ø³Ø§Øª Ù…Ù† Ø¬Ø§Ù…Ø¹Ø§Øª Ø¹Ø§Ù„Ù…ÙŠØ©"
        }
      ],
      fun: [
        {
          name: "Steam",
          domain: "store.steampowered.com",
          desc: "Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ø±Ù‚Ù…ÙŠØ©"
        }
      ]
    };

    function showCategories() {
      history = [];
      title.innerText = "Ø§Ù„ÙØ¦Ø§Øª";
      content.innerHTML = `
        <div class="grid">
          ${categories
            .map(
              c => `
              <div class="card" onclick="openCategory('${c.id}')">
                <span>${c.icon}</span>
                ${c.name}
              </div>
            `
            )
            .join("")}
        </div>
      `;
    }

    function openCategory(id) {
      history.push(showCategories);
      title.innerText = "Ø§Ù„Ù…ØªØ§Ø¬Ø±";

      content.innerHTML = stores[id]
        .map(
          s => `
          <div class="store">
            <img src="https://logo.clearbit.com/${s.domain}"
                 onerror="this.src='${DEFAULT_LOGO}'" />
            <h3>${s.name}</h3>
            <p>${s.desc}</p>
            <a class="visit" href="https://${s.domain}" target="_blank">
              Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹
            </a>
          </div>
        `
        )
        .join("");
    }

    function goBack() {
      const last = history.pop();
      if (last) last();
    }

    showCategories();
  </script>
</body>
</html>